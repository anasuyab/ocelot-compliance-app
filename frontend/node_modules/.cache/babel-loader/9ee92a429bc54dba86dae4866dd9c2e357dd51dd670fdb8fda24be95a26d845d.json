{"ast":null,"code":"const API_BASE_URL = 'https://ocelot-compliance-app-api.vercel.app/api';\nexport const complianceApi = {\n  /**\n   * Uploads the blueprint via POST\n   * @param {File} file - The file object from the file input\n   */\n  analyzeBlueprint: async file => {\n    // 1. Create a FormData object\n    // This effectively builds a virtual form <form>...</form> in memory\n    const formData = new FormData();\n\n    // 2. Append the file\n    // 'file' is the key name your backend expects (e.g., upload.single('file'))\n    formData.append('file', file);\n\n    // 3. Send the POST request\n    const response = await fetch(`${API_BASE_URL}/analyze`, {\n      method: 'POST',\n      body: formData\n      // CRITICAL NOTE: Do NOT set 'Content-Type': 'multipart/form-data' manually.\n      // The browser automatically sets the correct headers + boundary string\n      // when it sees a FormData body.\n    });\n    if (!response.ok) {\n      // Try to get the error message from the server, or fallback to default\n      let errorMessage = `Upload failed: ${response.statusText}`;\n      try {\n        const errorData = await response.json();\n        errorMessage = errorData.message || errorMessage;\n      } catch (e) {\n        // Response wasn't JSON\n      }\n      throw new Error(errorMessage);\n    }\n    return response.json();\n  }\n};","map":{"version":3,"names":["API_BASE_URL","complianceApi","analyzeBlueprint","file","formData","FormData","append","response","fetch","method","body","ok","errorMessage","statusText","errorData","json","message","e","Error"],"sources":["/Users/anasuyabasu/projects/ocelot/ocelot-compliance-app/frontend/src/services/complianceApi.js"],"sourcesContent":["const API_BASE_URL = 'https://ocelot-compliance-app-api.vercel.app/api';\n\nexport const complianceApi = {\n  /**\n   * Uploads the blueprint via POST\n   * @param {File} file - The file object from the file input\n   */\n  analyzeBlueprint: async (file) => {\n    // 1. Create a FormData object\n    // This effectively builds a virtual form <form>...</form> in memory\n    const formData = new FormData();\n    \n    // 2. Append the file\n    // 'file' is the key name your backend expects (e.g., upload.single('file'))\n    formData.append('file', file); \n\n    // 3. Send the POST request\n    const response = await fetch(`${API_BASE_URL}/analyze`, {\n      method: 'POST',\n      body: formData,\n      // CRITICAL NOTE: Do NOT set 'Content-Type': 'multipart/form-data' manually.\n      // The browser automatically sets the correct headers + boundary string\n      // when it sees a FormData body.\n    });\n\n    if (!response.ok) {\n      // Try to get the error message from the server, or fallback to default\n      let errorMessage = `Upload failed: ${response.statusText}`;\n      try {\n        const errorData = await response.json();\n        errorMessage = errorData.message || errorMessage;\n      } catch (e) {\n        // Response wasn't JSON\n      }\n      throw new Error(errorMessage);\n    }\n\n    return response.json();\n  }\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAG,kDAAkD;AAEvE,OAAO,MAAMC,aAAa,GAAG;EAC3B;AACF;AACA;AACA;EACEC,gBAAgB,EAAE,MAAOC,IAAI,IAAK;IAChC;IACA;IACA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;;IAE/B;IACA;IACAD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;;IAE7B;IACA,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,YAAY,UAAU,EAAE;MACtDS,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEN;MACN;MACA;MACA;IACF,CAAC,CAAC;IAEF,IAAI,CAACG,QAAQ,CAACI,EAAE,EAAE;MAChB;MACA,IAAIC,YAAY,GAAG,kBAAkBL,QAAQ,CAACM,UAAU,EAAE;MAC1D,IAAI;QACF,MAAMC,SAAS,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;QACvCH,YAAY,GAAGE,SAAS,CAACE,OAAO,IAAIJ,YAAY;MAClD,CAAC,CAAC,OAAOK,CAAC,EAAE;QACV;MAAA;MAEF,MAAM,IAAIC,KAAK,CAACN,YAAY,CAAC;IAC/B;IAEA,OAAOL,QAAQ,CAACQ,IAAI,CAAC,CAAC;EACxB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}